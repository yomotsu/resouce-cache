!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.resouceCache={})}(this,function(e){"use strict";var n=6e4,o=60*n,t=24*o,r={};function s(n,i){return new Promise(function(o){var e=new Blob([n],{type:i}),t=new FileReader;t.readAsDataURL(e),t.onload=function(){var e=t.result,n=new Image;n.onload=function(){o(n)},n.src=e}})}e.loadResouce=function(i){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).exporedIn,new Promise(function(n){if(/^data:/.test(i))(o=i,new Promise(function(e){var n=new Image;n.onload=function(){e(n)},n.src=o})).then(function(e){n(e)});else{var o,e=/\.jpg$/.test(i)?"image/jpeg":/\.png$/.test(i)?"image/png":/\.gif$/.test(i)?"image/gif":void 0;if(r[i])s(r[i],e).then(function(e){n(e)});else{var t=new XMLHttpRequest;t.open("GET",i,!0),t.responseType="arraybuffer",t.onprogress=function(e){},t.onload=function(){r[i]=t.response,s(t.response,e).then(function(e){n(e)})},t.send()}}})},e.ONE_SECOND=1e3,e.ONE_MINUTE=n,e.ONE_HOUR=o,e.ONE_DAY=t,e.getNow=function(){return Date.now()},Object.defineProperty(e,"__esModule",{value:!0})});
